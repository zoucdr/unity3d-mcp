# 资源索引管理器使用示例

## 快速开始示例

### 示例1：添加脚本索引

假设您有一个重要的脚本 `PlayerController.cs`，想要添加到索引中：

1. **在Project窗口选中该脚本**
2. **打开资源索引管理器**：`Edit > Project Settings > MCP > 资源索引管理器`
3. **点击"从选中对象获取"按钮**
4. **填写额外信息**：
   - 说明：`玩家移动和交互控制器`
   - 分类：`核心脚本`
   - 备注：`重要！不要删除`
5. **点击"添加索引"**

### 示例2：批量搜索所有Player相关资源

使用正则表达式搜索所有包含"Player"的资源：

**通过UI**：
1. 切换到"搜索索引"标签
2. 输入关键词：`Player`
3. 查看搜索结果

**通过MCP工具**：
```json
{
  "action": "search",
  "pattern": "Player.*"
}
```

### 示例3：快速定位配置文件

假设您记录了一个配置文件的GUID，现在需要快速找到它：

**通过UI**：
1. 在资源索引列表中找到该配置文件
2. 点击"定位"按钮
3. Unity会自动选中并高亮该文件

**通过MCP工具**：
```json
{
  "action": "locate",
  "id": 5
}
```

### 示例4：按分类管理资源

将项目中的重要资源按类型分类：

**分类建议**：
- `核心脚本` - 游戏核心逻辑脚本
- `配置文件` - 各种配置数据
- `预制体` - 重要的预制体资源
- `场景` - 主要场景文件
- `材质` - 关键材质资源
- `UI` - UI相关资源

**操作步骤**：
1. 添加资源时选择合适的分类
2. 使用分类快速筛选按钮查看特定类型的资源

### 示例5：导出和备份

定期备份您的资源索引数据：

1. 点击"导出为JSON"按钮
2. 保存为 `asset_indices_backup_20251217.json`
3. 将JSON文件提交到版本控制系统

### 示例6：团队协作

在团队中共享资源索引：

**成员A**：
1. 整理好资源索引
2. 导出为JSON文件
3. 分享给团队成员

**成员B**：
1. 收到JSON文件
2. 点击"从JSON导入"
3. 选择"追加导入"模式
4. 现在可以看到成员A整理的资源索引

## 实际应用场景

### 场景1：大型项目资源管理

在包含数千个资源的大型项目中：

1. **记录核心资源**：将关键脚本、配置、预制体添加到索引
2. **分类整理**：使用分类标签组织资源
3. **快速定位**：需要修改某个资源时，通过搜索快速找到
4. **团队共享**：导出JSON分享给团队成员

### 场景2：代码重构

在进行代码重构时：

1. **记录依赖**：将需要重构的脚本和相关资源添加到索引
2. **添加备注**：标注重构计划和注意事项
3. **跟踪进度**：使用分类区分"待重构"、"重构中"、"已完成"

### 场景3：资源审计

定期检查项目资源：

1. **记录重要资源**：将所有重要资源添加到索引
2. **定期验证**：使用定位功能检查资源是否仍然存在
3. **清理无效索引**：删除已不存在的资源索引

### 场景4：新人入职

帮助新成员快速了解项目：

1. **整理资源索引**：记录项目中的关键资源
2. **添加详细说明**：为每个资源添加用途说明
3. **导出文档**：导出JSON作为项目文档的一部分
4. **快速上手**：新成员通过索引快速找到需要的资源

## 高级技巧

### 技巧1：正则表达式搜索

利用正则表达式进行复杂搜索：

- 搜索所有Manager脚本：`.*Manager$`
- 搜索Assets/Scripts下的资源：`^Assets/Scripts/.*`
- 搜索多个关键词：`Player|Enemy|NPC`

### 技巧2：批量操作

通过JSON文件批量管理资源索引：

1. 导出现有索引
2. 在文本编辑器中批量修改
3. 以覆盖模式重新导入

### 技巧3：版本控制集成

将资源索引纳入版本控制：

1. 定期导出JSON文件
2. 提交到Git仓库
3. 团队成员可以同步最新的资源索引

### 技巧4：自动化工作流

结合MCP工具实现自动化：

```csharp
// 示例：批量添加某个文件夹下的所有脚本
// 可以通过编写Editor脚本调用AssetIndexSetting API
var scripts = AssetDatabase.FindAssets("t:Script", new[] { "Assets/Scripts/Core" });
foreach (var guid in scripts)
{
    var path = AssetDatabase.GUIDToAssetPath(guid);
    var asset = AssetDatabase.LoadAssetAtPath<MonoScript>(path);
    AssetIndexSetting.instance.AddAssetIndex(
        asset.name,
        "核心脚本",
        guid,
        path,
        "核心脚本",
        "自动添加"
    );
}
```

## 最佳实践

1. **及时记录**：发现重要资源时立即添加到索引
2. **详细说明**：为每个资源添加清晰的说明
3. **合理分类**：使用统一的分类标签
4. **定期维护**：定期检查和更新资源索引
5. **备份数据**：定期导出JSON备份
6. **团队协作**：与团队成员共享资源索引

## 注意事项

1. 资源索引不会影响资源本身，只是记录引用
2. 删除索引不会删除实际资源文件
3. 资源文件被删除后，索引仍然存在，但定位功能会失败
4. GUID是Unity资源的唯一标识，不会因为移动文件而改变

